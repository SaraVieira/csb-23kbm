/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpdojo_codesandbox_template=window.dojoWebpackJsonpdojo_codesandbox_template||[]).push([["main"],{19:function(e,t,n){"use strict";n.r(t);var r=n(0);n(1);var i=r.default.WeakMap;var o=r.default.Set;let s,d,a,c,l,u,p,f,g;s=Object.assign,d=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.is,u=Object.keys,p=Object.getOwnPropertyDescriptors,f=Object.entries,g=Object.values;let h=r.default.Map;var y=h;function m(e){return function(t,...n){return e.apply(t,n)}}let b,w,_,v,N,x,j,O,I;b=Array.from,w=Array.of,_=m(Array.prototype.copyWithin),v=m(Array.prototype.fill),N=m(Array.prototype.find),O=m(Array.prototype.flat),I=m(Array.prototype.flatMap),x=m(Array.prototype.findIndex),j=m(Array.prototype.includes);var k=n(2);function A(){return k.default.resolve(!1)}function R(){throw new Error("Call made to destroyed method")}class P{constructor(){this.handles=[]}own(e){const{handles:t}=this;return t.push(e),{destroy(){t.splice(t.indexOf(e)),e.destroy()}}}destroy(){return new k.default(e=>{this.handles.forEach(e=>{e&&e.destroy&&e.destroy()}),this.destroy=A,this.own=R,e(!0)})}}const M=new y;class E extends P{constructor(){super(...arguments),this.listenersMap=new y}emit(e){this.listenersMap.forEach((t,n)=>{(function(e,t){if("string"==typeof t&&"string"==typeof e&&-1!==e.indexOf("*")){let n;return M.has(e)?n=M.get(e):(n=new RegExp(`^${e.replace(/\*/g,".*")}$`),M.set(e,n)),n.test(t)}return e===t})(n,e.type)&&[...t].forEach(t=>{t.call(this,e)})})}on(e,t){if(Array.isArray(t)){const n=t.map(t=>this._addListener(e,t));return{destroy(){n.forEach(e=>e.destroy())}}}return this._addListener(e,t)}_addListener(e,t){const n=this.listenersMap.get(e)||[];return n.push(t),this.listenersMap.set(e,n),{destroy:()=>{const n=this.listenersMap.get(e)||[];n.splice(n.indexOf(t),1)}}}}const C="__widget_base_type";function D(e){return Boolean(e&&e._type===C)}function H(e){return Boolean(e&&e.isWidget)}function L(e){return!("function"!=typeof e||!e.isFactory)}function W(e){return D(e)||H(e)}class $ extends E{emitLoadedEvent(e,t){this.emit({type:e,action:"loaded",item:t})}define(e,t){if(void 0===this._widgetRegistry&&(this._widgetRegistry=new y),this._widgetRegistry.has(e))throw new Error(`widget has already been registered for '${e.toString()}'`);this._widgetRegistry.set(e,t),t instanceof k.default?t.then(t=>(this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}):D(t)&&this.emitLoadedEvent(e,t)}defineInjector(e,t){if(void 0===this._injectorRegistry&&(this._injectorRegistry=new y),this._injectorRegistry.has(e))throw new Error(`injector has already been registered for '${e.toString()}'`);const n=new E,r={injector:t(()=>n.emit({type:"invalidate"})),invalidator:n};this._injectorRegistry.set(e,r),this.emitLoadedEvent(e,r)}get(e){if(!this._widgetRegistry||!this.has(e))return null;const t=this._widgetRegistry.get(e);if(W(t)||L(t))return t;if(t instanceof k.default)return null;const n=t();return this._widgetRegistry.set(e,n),n.then(t=>(function(e){return Boolean(e&&e.hasOwnProperty("__esModule")&&e.hasOwnProperty("default")&&(W(e.default)||L(e.default)))}(t)&&(t=t.default),this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}),null}getInjector(e){return this._injectorRegistry&&this.hasInjector(e)?this._injectorRegistry.get(e):null}has(e){return Boolean(this._widgetRegistry&&this._widgetRegistry.has(e))}hasInjector(e){return Boolean(this._injectorRegistry&&this._injectorRegistry.has(e))}}function B(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function S(e,t){return{changed:e!==t,value:t}}function T(e,t,n=0){let r;return r="function"==typeof t?t._type===C?S(e,t):function(e,t){return{changed:!1,value:t}}(0,t):B(t)?function(e,t,n=0){let r=!1;const i=e&&B(e),o=t&&B(t);if(!i||!o)return{changed:!0,value:t};const s=Object.keys(e),d=Object.keys(t);return{changed:r=s.length!==d.length||d.some(r=>n>0?T(t[r],e[r],n-1).changed:t[r]!==e[r]),value:t}}(e,t,n):S(e,t)}var F=class extends E{constructor(){super(),this._registry=new $,this._registryWidgetLabelMap=new h,this._registryInjectorLabelMap=new h,this.own(this._registry),this.own({destroy:()=>{this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry),this.baseRegistry=void 0)}})}set base(e){this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry)),this.baseRegistry=e}get base(){return this.baseRegistry}define(e,t){this._registry.define(e,t)}defineInjector(e,t){this._registry.defineInjector(e,t)}has(e){return this._registry.has(e)||Boolean(this.baseRegistry&&this.baseRegistry.has(e))}hasInjector(e){return this._registry.hasInjector(e)||Boolean(this.baseRegistry&&this.baseRegistry.hasInjector(e))}get(e,t=!1){return this._get(e,t,"get",this._registryWidgetLabelMap)}getInjector(e,t=!1){return this._get(e,t,"getInjector",this._registryInjectorLabelMap)}_get(e,t,n,r){const i=t?[this.baseRegistry,this._registry]:[this._registry,this.baseRegistry];for(let o=0;o<i.length;o++){const s=i[o];if(!s)continue;const d=s[n](e),a=r.get(s)||[];if(d)return d;if(-1===a.indexOf(e)){const i=s.on(e,r=>{"loaded"===r.action&&this[n](e,t)===r.item&&this.emit({type:"invalidate"})});this.own(i),r.set(s,[...a,e])}}return null}},q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};const V=[],Y=["focus","blur","scrollIntoView","click"],z="http://www.w3.org/2000/svg",J="http://www.w3.org/1999/xlink",U="__WNODE_TYPE",G="__VNODE_TYPE",K="__DOMVNODE_TYPE",Q="dojo_codesandbox_template";function X(e){r.default[Q].rendering=e}function Z(e){return e&&3===e.nodeType}function ee(e){return e&&se(e.node)}function te(e){return!!e&&de(e.node)}function ne(e){return te(e)&&"virtual"===e.node.tag}function re(e){return te(e)&&"body"===e.node.tag}function ie(e){return te(e)&&"head"===e.node.tag}function oe(e){return ie(e)||re(e)||ne(e)}function se(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===U)}function de(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&(e.type===G||e.type===K))}function ae(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===K)}function ce(e,t,n){return t.__children__&&delete t.__children__,L(e)?e(t,n):(se(e)&&(t=Object.assign({},e.properties,t),n=n||e.children,e=e.widgetConstructor),{children:n||[],widgetConstructor:e,properties:t,type:U})}function le(e,t={},n){let r,i=t;if("function"==typeof e.tag)return e.tag(i,n);if(Array.isArray(t)&&(n=t,i={}),"function"==typeof i&&(r=i,i={}),de(e)){let{classes:t=[],styles:r={}}=i,o=q(i,["classes","styles"]),s=e.properties,{classes:d=[],styles:a={}}=s,c=q(s,["classes","styles"]);d=Array.isArray(d)?d:[d],t=Array.isArray(t)?t:[t],r=Object.assign({},a,r),i=Object.assign({},c,o,{classes:[...d,...t],styles:r}),n=n||e.children,e=e.tag}return{tag:e,deferredPropertiesCallback:r,children:n,properties:i,type:G}}r.default[Q]||(r.default[Q]={});const ue="__registry_item";class pe{constructor(){this.__properties__={}}}function fe(e,t={},...n){if(n=O(n,1/0),t=null===t?{}:t,"string"==typeof e)return le(e,t,n);if("registry"===e.type&&t.__autoRegistryItem){const e=t.__autoRegistryItem;return delete t.__autoRegistryItem,ce(e,t,n)}if(e.type===ue){return ce((new e).name,t,n)}return ce(e,t,n)}function ge(e,t){const{node:{diffType:n,properties:r,attributes:i}}=t;if(!n||"vdom"===n)return{properties:t.deferredProperties?Object.assign({},t.deferredProperties,t.node.properties):t.node.properties,attributes:t.node.attributes,events:t.node.events};if("none"===n)return{properties:{},attributes:t.node.attributes?{}:void 0,events:t.node.events};let o={properties:{}};return i?(o.attributes={},o.events=t.node.events,Object.keys(r).forEach(t=>{o.properties[t]=e[t]}),Object.keys(i).forEach(t=>{o.attributes[t]=e.getAttribute(t)}),o):(o.properties=Object.keys(r).reduce((t,n)=>(t[n]=e.getAttribute(n)||e[n],t),{}),o)}function he(e,t){if(te(e)&&te(t))return(!ae(e.node)||!ae(t.node)||e.node.domNode===t.node.domNode)&&(e.node.tag===t.node.tag&&e.node.properties.key===t.node.properties.key);if(ee(e)&&ee(t)){const n=e.registryItem||e.node.widgetConstructor,r=t.registryItem||t.node.widgetConstructor,{node:{properties:i}}=e,{node:{properties:o}}=t;return(void 0!==e.instance||"string"!=typeof r)&&(n===r&&(i.key===o.key&&!!(n.keys||[]).every(e=>i[e]===o[e])))}return!1}function ye(e,t,n){for(let r=n;r<e.length;r++)if(he(e[r],t))return r;return-1}function me(e=[]){let t="";if(Array.isArray(e)){for(let n=0;n<e.length;n++){let r=e[n];r&&!0!==r&&(t=t?`${t} ${r}`:r)}return t}return e&&!0!==e&&(t=e),t}function be(e,t,n,r){r===z&&"href"===t&&n?e.setAttributeNS(J,t,n):"role"===t&&""===n||void 0===n?e.removeAttribute(t):e.setAttribute(t,n)}function we(e){return Array.prototype.slice.call(e)}function _e(e,t,n){const r=(n,r)=>{if(n){const i=ce(e,n,r);return e.isWidget=!0,e.middlewares=t,i}return{middlewares:t,callback:e}},i=Object.keys(t).reduce((e,n)=>{const r=t[n];return r.keys&&(e=[...e,...r.keys]),e},n?[n]:[]);return r.withType=(()=>r),e.keys=i,r.keys=i,r.isFactory=!0,r}function ve(e={}){function t(t){return _e(t,e)}return t.children=function(){function t(t){return _e(t,e)}return t.properties=function(){function t(t){return _e(t,e)}return t.key=function(t){return function(n){return _e(n,e,t)}},t},t},t.properties=function(){function t(t){return _e(t,e)}return t.children=function(){function t(t){return _e(t,e)}return t.key=function(t){return function(n){return _e(n,e,t)}},t},t.key=function(t){return function(n){return _e(n,e,t)}},t},t}pe.type=ue;const Ne=ve();const xe=new i,je=new y,Oe=new o;let Ie=0,ke=0;function Ae(e,t,n){const r=je.get(e);r&&(r.nodeMap=r.nodeMap||new y,r.nodeMap.set(t,n),Oe.has(`${e}-${t}`)&&(r.invalidator(),Oe.delete(`${e}-${t}`)))}function Re(e){const{destroyMap:t,middlewareIds:n}=e;if(t){for(let e=0;e<n.length;e++){const r=n[e],i=t.get(r);if(i&&i(),t.delete(r),0===t.size)break}t.clear()}}Ne(({id:e})=>{const[t]=e.split("-");return()=>{const e=je.get(t);if(e)return e.invalidator()}}),Ne(({id:e})=>({get(t){const[n]=e.split("-"),i=je.get(n);if(i){i.nodeMap=i.nodeMap||new y;const e=i.mountNode,o=i.nodeMap.get(t);if(o&&(e.contains(o)||r.default.document.body!==e&&r.default.document.body.contains(o)))return o;Oe.add(`${n}-${t}`)}return null}})),Ne(({id:e})=>{return function(t,n,r){const[i]=e.split("-"),s=je.get(i);if(r||(r=n),s){s.customDiffMap=s.customDiffMap||new y,s.customDiffProperties=s.customDiffProperties||new o;const n=s.customDiffMap.get(e)||new y;if(!n.has(t)){const e=r({},s.originalProperties);void 0!==e&&(s.properties=Object.assign({},s.properties,{[t]:e})),n.set(t,r),s.customDiffProperties.add(t)}s.customDiffMap.set(e,n)}}}),Ne(({id:e})=>t=>{const[n]=e.split("-"),r=je.get(n);r&&(r.destroyMap=r.destroyMap||new y,r.destroyMap.has(e)||r.destroyMap.set(e,t))}),Ne(({id:e})=>{const[t]=e.split("-");return()=>{const e=je.get(t);return e?(e.registryHandler||(e.registryHandler=new F,e.registryHandler.base=e.registry,e.registryHandler.on("invalidate",e.invalidator)),e.registryHandler=e.registryHandler||new F,e.registryHandler):null}}),Ne(({id:e})=>{const[t]=e.split("-");let n=!1;return{pause(){const e=je.get(t);!n&&e&&(e.deferRefs=e.deferRefs+1,n=!0)},resume(){const e=je.get(t);n&&e&&(e.deferRefs=e.deferRefs-1,n=!1)}}});function Pe(e,t){const n={},r=Object.keys(t);for(let i=0;i<r.length;i++){const o=r[i];"function"==typeof t[o]?(n[o]=function(...n){const r=je.get(e);return r?r.originalProperties[o](...n):t[o](...n)},n[o].unwrap=(()=>{const n=je.get(e);return n?n.originalProperties[o]:t[o]})):n[o]=t[o]}return n}function Me(e){let t,n,o,s={sync:!1,merge:!0,transition:void 0,domNode:r.default.document.body,registry:new $},d=[],a=[],c=[],l=[],u=new i,p=new y,f=new i,g=new y,h=new i,m=new i,b=[],w=[],_=new y;function v(e,t,n,r){let i=t&&!n;"function"==typeof t&&(i=t()),!0===i&&b.push(()=>{r[e]()})}function N(e,t,n,r){if(r){const n=u.get(r);n&&e.removeEventListener(t,n)}let i=n;"input"===t&&(i=function(e){n.call(this,e),e.target["oninput-value"]=e.target.value}),e.addEventListener(t,i),u.set(n,i)}function x(e,t,n,r=!1){Object.keys(t).forEach(i=>{const o="on"===i.substr(0,2)||r,s=r?i:i.substr(2);if(o&&!n[i]){const n=u.get(t[i]);n&&e.removeEventListener(s,n)}})}function j(e,t,n){if(!W(e.node.widgetConstructor)){const r=m.get(e.node);let i;if(r&&(r.instance?t=r.instance:n=r.id),t){const e=xe.get(t);e&&(i=e.registry)}else if(void 0!==n){const e=je.get(n);e&&(e.registryHandler||(e.registryHandler=new F,e.registryHandler.base=e.registry,e.registryHandler.on("invalidate",e.invalidator)),i=e.registryHandler)}if(i){let t;if(function(e){return Boolean(e&&e.label)}(e.node.widgetConstructor)){const{label:n,registryItem:r}=e.node.widgetConstructor;i.has(n)||i.define(n,r),t=n}else t=e.node.widgetConstructor;let n=i.get(t);if(L(n)){const t=n(e.node.properties,e.node.children);H(t.widgetConstructor)&&(e.registryItem=t.widgetConstructor)}else e.registryItem=n}}}function O(e,t,n){const{requiresInsertBefore:r,hasPreviousSiblings:i,namespace:o,depth:s}=t,d=[],a=ee(t),c=ne(t),l=(te(n)&&g.get(n.id)||[]).length>0,u=(r||!1!==i)&&(a||c)||l&&e.length>1;let h;ee(t)&&e.length&&function(e,t){for(;e.length;){let n=e.pop();(se(n)||de(n))&&(m.has(n)||(m.set(n,t),n.children&&n.children.length&&(e=[...e,...n.children])))}}([...e],t);for(let n=0;n<e.length;n++){let r=e[n];if(!r||!0===r)continue;"string"==typeof r&&(r={tag:"",properties:{},children:void 0,text:`${r}`,type:G});const i=m.get(r),c={node:r,depth:s+1,order:n,parentId:t.id,requiresInsertBefore:u,hasParentWNode:a,namespace:o};if(de(r)&&(r.deferredPropertiesCallback&&(c.deferredProperties=r.deferredPropertiesCallback(!1)),r.properties.exitAnimation)){t.hasAnimations=!0;let e=p.get(t.parentId);for(;e&&!e.hasAnimations;)e.hasAnimations=!0,e=p.get(e.parentId)}i&&(c.owningId=i.id),se(r)&&j(c,t.instance,t.id),h&&f.set(h,c),d.push(c),h=c}return d}function I(e){const{deferredPropertiesCallback:t}=e.node;if(t){const n=e.node.properties;b.push(()=>{if(p.has(e.owningId)){const r=e.deferredProperties;e.deferredProperties=t(!0),E(e,{properties:Object.assign({},r,n)})}})}}function k(e){let t=null,n=e;for(;!t;){const e=f.get(n);if(e){if(re(e)||ie(e)){n=e;continue}let r=e.domNode;if((ee(e)||ne(e))&&(e.childDomWrapperId||(e.childDomWrapperId=_e(e.id)),e.childDomWrapperId)){const t=p.get(e.childDomWrapperId);!t||re(t)||ie(t)||(r=t.domNode)}if(r&&r.parentNode){t=r;break}n=e}else if(!(n=n&&p.get(n.parentId))||te(n)&&!ne(n))break}return t}function A(e,t,n){const r=e.value,i=e["oninput-value"],o=e["select-value"];o&&r!==o?(e.value=o,e.value===o&&(e["select-value"]=void 0)):(i&&r===i||t!==n)&&(e.value=t,e["oninput-value"]=void 0)}function R(e,t={},n,r=!0){const i=n.deferredProperties?Object.assign({},n.deferredProperties,n.node.properties):n.node.properties,o=Object.keys(i),s=o.length;-1===o.indexOf("classes")&&t.classes&&e.removeAttribute("class"),r&&x(e,t,i);for(let d=0;d<s;d++){const s=o[d];let a=i[s];const c=t[s];if("classes"===s){const t=me(c);let r=me(a);if(t!==r)if(r){if(n.merged){const t=(e.getAttribute("class")||"").split(" ");for(let e=0;e<t.length;e++)-1===r.indexOf(t[e])&&(r=`${t[e]} ${r}`)}e.setAttribute("class",r)}else e.removeAttribute("class")}else if(-1!==Y.indexOf(s))v(s,a,c,e);else if("styles"===s){const t=Object.keys(a),n=t.length;for(let r=0;r<n;r++){const n=t[r],i=a[n];i!==(c&&c[n])&&(e.style[n]=i||"")}}else if(a||"string"!=typeof c||(a=""),"value"===s)"SELECT"===e.tagName&&(e["select-value"]=a),A(e,a,c);else if("key"!==s&&a!==c){const t=typeof a;"function"===t&&0===s.lastIndexOf("on",0)&&r?N(e,s.substr(2),a,c):"string"===t&&"innerHTML"!==s&&r?be(e,s,a,n.namespace):"scrollLeft"===s||"scrollTop"===s?e[s]!==a&&(e[s]=a):e[s]=a}}}function P(){const e=b;if(b=[],e.length)return()=>{let t;for(;t=e.shift();)t()}}function M(){const{sync:e}=s,t=P();if(t)if(e)t();else{let e;e=r.default.requestAnimationFrame(()=>{_.delete(e),t()}),_.set(e,t)}}function E(e,t){if(e.node.attributes&&e.node.events){!function(e,t,n,r){const i=Object.keys(n),o=i.length;for(let s=0;s<o;s++){const o=i[s],d=n[o];d!==t[o]&&be(e,o,d,r)}}(e.domNode,t.attributes||{},e.node.attributes,e.namespace),R(e.domNode,t.properties,e,!1);const n=e.node.events||{};t.events&&x(e.domNode,t.events||{},e.node.events,!0),t.events=t.events||{},Object.keys(n).forEach(r=>{N(e.domNode,r,n[r],t.events[r])})}else R(e.domNode,t.properties,e)}function C(){const{sync:e}=s;e?S():t||(X(!0),t=r.default.requestAnimationFrame(()=>{S()}))}function B(e){const t=p.get(e);if(t&&ee(t))return t}function S(){t=void 0;let e=[...d];const n=[];let r;for(d=[],e.sort((e,t)=>{let n=t.depth-e.depth;return 0===n&&(n=t.order-e.order),n}),c.length&&(a=[...c],c=[],J(),c.length&&(d=[...e],e=[]));r=e.pop();){let{id:e}=r;const t=B(e);if(!t||-1!==n.indexOf(e)||!p.has(t.parentId))continue;n.push(e);const i=f.get(t),o={node:{type:U,widgetConstructor:t.node.widgetConstructor,properties:t.properties||{},children:t.node.children||[]},instance:t.instance,id:t.id,properties:t.properties,depth:t.depth,order:t.order,owningId:t.owningId,parentId:t.parentId,registryItem:t.registryItem};i&&f.set(o,i);const s=fe({current:t,next:o});s&&s.item&&(a.push(s.item),p.set(e,o),J())}K(),q(),M(),t||X(!1)}function q(){if(0===c.length){let e;for(;e=w.pop();)e.parentNode&&e.parentNode.removeChild(e);s.merge=!1}}function J(){let e;for(;e=a.pop();)if(e.type)e.instance&&l.push(e);else{const{current:t,next:n,meta:r}=e;ce(t||V,n||V,r)}}function K(){let e;for(l.reverse();e=l.pop();)if("create"===e.type){const{parentDomNode:t,next:n,next:{domNode:r,merged:i,requiresInsertBefore:o,node:d}}=e;if(E(n,{properties:{}}),I(n),!i){let e;o?e=k(n):h&&(e=h.get(n)),t.insertBefore(r,e),ae(n.node)&&n.node.onAttach&&n.node.onAttach()}"OPTION"===r.tagName&&r.parentElement&&A(r.parentElement);const{enterAnimation:a,enterAnimationActive:c}=d.properties;s.transition&&a&&!0!==a&&s.transition.enter(r,a,c);const l=m.get(n.node);if(l&&null!=d.properties.key)if(l.instance){const e=xe.get(l.instance);e&&e.nodeHandler.add(r,`${d.properties.key}`)}else Ae(l.id,d.properties.key,r);e.next.inserted=!0}else if("update"===e.type){const{next:t,next:{domNode:n},current:r,current:{domNode:i}}=e;if(Z(n)&&Z(i)&&n!==i)i.parentNode&&i.parentNode.replaceChild(n,i);else{E(t,ge(n,r)),I(t)}}else if("delete"===e.type){const{current:t}=e,{exitAnimation:n,exitAnimationActive:r}=t.node.properties;s.transition&&n&&!0!==n?s.transition.exit(t.domNode,n,r):t.domNode.parentNode.removeChild(t.domNode)}else if("attach"===e.type){const{instance:t,attached:n}=e,r=xe.get(t);r&&(r.nodeHandler.addRoot(),n&&r.onAttach())}else if("detach"===e.type){if(e.current.instance){const t=xe.get(e.current.instance);t&&t.onDetach()}e.current.instance=void 0}0===c.length&&(m=new i)}function Q(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(null==r.node.properties.key)return!1;t.push(r.node.properties.key)}return t}function ce(e,t,n={}){let{mergeNodes:r=[],oldIndex:i=0,newIndex:o=0}=n;const d=e.length,u=t.length,p=d>1||d>0&&d<u;let f=[],g=!1;if(0===i&&0===o&&d){const n=Q(e);if(n){const r=Q(t);if(r)for(let t=0;t<n.length;t++){if(-1!==r.indexOf(n[t])){f=[],g=!1;break}g=!0,f.push({current:e[t],next:void 0})}}}if(g||0===d&&!s.merge)for(let e=0;e<t.length;e++)f.push({current:void 0,next:t[e]});else{if(o<u){let n=i<d?e[i]:void 0;const a=t[o];a.hasPreviousSiblings=p,function(e,t){const{merge:n}=s;if(n&&t.length)if(te(e)){let{node:{tag:n}}=e;for(let r=0;r<t.length;r++){const i=t[r],o=i.tagName||"";if(n.toUpperCase()===o.toUpperCase()){const n=w.indexOf(i);-1!==n&&w.splice(n,1),t.splice(r,1),e.domNode=i;break}}}else e.mergeNodes=t}(a,r),n&&he(n,a)?(i++,o++,te(n)&&te(a)&&(a.inserted=n.inserted),f.push({current:n,next:a})):n&&-1!==ye(e,a,i+1)?-1===ye(t,n,o+1)?(f.push({current:n,next:void 0}),i++):(f.push({current:n,next:void 0}),f.push({current:void 0,next:a}),i++,o++):(f.push({current:void 0,next:a}),o++)}if(o<u&&a.push({current:e,next:t,meta:{mergeNodes:r,oldIndex:i,newIndex:o}}),d>i&&o>=u)for(let t=i;t<d;t++)f.push({current:e[t],next:void 0})}for(let i=0;i<f.length;i++){const d=ue(f[i]);if(!1===d){if(s.merge&&r.length){o<u&&a.pop(),a.push({next:t,current:e,meta:n}),c=a,a=[];break}continue}const{widget:p,item:g,dom:h}=d;p&&a.push(p),g&&a.push(g),h&&l.push(h)}}function ue({current:e,next:t}){if(e!==t){if(!e&&t)return te(t)?function({next:e}){const t=function(e){let t,n=p.get(e.parentId);for(;!t&&n;)!t&&te(n)&&!ne(n)&&n.domNode&&(t=n.domNode),n=p.get(n.parentId);return t}(e),n=ne(e),i=re(e),o=ie(e);let d,a=[];e.id=`${Ie++}`,p.set(e.id,e),e.domNode?s.merge&&(e.merged=!0,Z(e.domNode)?e.domNode.data!==e.node.text&&(w=[e.domNode,...w],e.domNode=r.default.document.createTextNode(e.node.text),e.merged=!1):(a=we(e.domNode.childNodes),w=[...w,...a])):(e.node.domNode?e.domNode=e.node.domNode:("svg"===e.node.tag&&(e.namespace=z),i?e.domNode=r.default.document.body:o?e.domNode=r.default.document.head:e.node.tag&&!n?e.namespace?e.domNode=r.default.document.createElementNS(e.namespace,e.node.tag):e.domNode=r.default.document.createElement(e.node.tag):null!=e.node.text&&(e.domNode=r.default.document.createTextNode(e.node.text))),h&&w.length&&t===w[0].parentNode&&h.set(e,w[0]));(e.domNode||n)&&e.node.children&&e.node.children.length&&(d=O(e.node.children,e,null),g.set(e.id,d));const c=oe(e)?void 0:{next:e,parentDomNode:t,type:"create"};if(d)return{item:{current:[],next:d,meta:{mergeNodes:a}},dom:c,widget:n?{type:"attach",id:e.id,attached:!1}:void 0};return{dom:c}}({next:t}):function({next:e}){let t,r,{node:{widgetConstructor:i}}=e,{registry:o}=s,a=e.registryItem||i;if(!W(a)){if(j(e),!e.registryItem)return!1;a=e.registryItem}e.properties=Object.assign({},e.node.properties),e.id=e.id||`${Ie++}`,p.set(e.id,e);const{id:c,depth:l,order:u}=e;if(D(a)){let n=new a;n.registry.base=o;const i=xe.get(n);r=(()=>{i.dirty=!0,!i.rendering&&p.has(c)&&(d.push({id:c,depth:l,order:u}),C())}),i.invalidate=r,i.rendering=!0,n.__setProperties__(e.node.properties),n.__setChildren__(e.node.children),e.instance=n,t=n.__render__(),i.rendering=!1}else{let n=je.get(c);if(n)r=n.invalidator;else if(r=(()=>{const e=je.get(c);e&&(e.dirty=!0,!e.rendering&&p.has(c)&&(d.push({id:c,depth:l,order:u}),C()))}),n={widgetName:a.name||"unknown",mountNode:s.domNode,dirty:!1,invalidator:r,properties:Pe(c,e.node.properties),originalProperties:Object.assign({},e.node.properties),children:e.node.children,deferRefs:0,rendering:!0,middleware:{},middlewareIds:[],registry:s.registry,propertiesCalled:!1},je.set(e.id,n),a.middlewares&&Object.keys(a.middlewares).length){const{middlewares:e,ids:t}=function e(t,n,r=[]){const i=Object.keys(t);const o={};const s=`${n}-${ke++}`;for(let d=0;d<i.length;d++){const a=t[i[d]](),c=pe(s,n);if(a.middlewares){const{middlewares:t}=e(a.middlewares,n,r);c.middleware=t,o[i[d]]=a.callback(c)}else o[i[d]]=a.callback(c)}r.push(s);return{middlewares:o,ids:r}}(a.middlewares,c);n.middleware=e,n.middlewareIds=t}if(t=a(pe(c,c,n.middleware)),n.rendering=!1,n.propertiesCalled=!1,n.deferRefs>0)return!1}let f;t&&(t=Array.isArray(t)?t:[t],f=O(t,e,null),g.set(c,f));n||a.isWNodeWrapper||(n=r);return{item:{next:f,meta:{mergeNodes:e.mergeNodes}},widget:{type:"attach",instance:e.instance,id:c,attached:!0}}}({next:t});if(e&&t){if(te(e)&&te(t))return function({current:e,next:t}){let n;t.domNode=e.domNode,t.namespace=e.namespace,t.id=e.id,t.childDomWrapperId=e.childDomWrapperId;let i=g.get(t.id);null!=t.node.text&&t.node.text!==e.node.text?t.domNode=r.default.document.createTextNode(t.node.text):t.node.children&&(n=O(t.node.children,t,e),g.set(t.id,n));return f.delete(e),p.set(t.id,t),{item:{current:i,next:n,meta:{}},dom:{type:"update",next:t,current:e}}}({current:e,next:t});if(ee(e)&&ee(t))return fe({current:e,next:t})}else if(e&&!t){if(te(e))return function({current:e}){const t=oe(e),n=g.get(e.id);if(g.delete(e.id),p.delete(e.id),f.delete(e),e.node.properties.key){const t=je.get(e.owningId),n=B(e.owningId);if(t)t.nodeMap&&t.nodeMap.delete(e.node.properties.key);else if(n&&n.instance){const t=xe.get(n.instance);t&&t.nodeHandler.remove(e.node.properties.key)}}if(e.hasAnimations||t)return{item:{current:n,meta:{}},dom:t?void 0:{type:"delete",current:e}};n&&b.push(()=>{let e,t=n||[],r=[];for(;e=t.pop();){if(ee(e))if((e=B(e.id)||e).instance){const t=xe.get(e.instance);t&&t.onDetach(),e.instance=void 0}else{const t=je.get(e.id);t&&(t.registryHandler&&t.registryHandler.destroy(),Re(t),je.delete(e.id))}let n=g.get(e.id);n&&t.push(...n),re(e)||ie(e)?r.push(e.id):-1!==r.indexOf(e.parentId)&&(ee(e)||ne(e)?r.push(e.id):e.domNode&&e.domNode.parentNode&&e.domNode.parentNode.removeChild(e.domNode)),g.delete(e.id),p.delete(e.id)}});return{dom:{type:"delete",current:e}}}({current:e});if(ee(e))return function({current:e}){e=B(e.id)||e,p.delete(e.id);const t=je.get(e.id);let n=g.get(e.id);g.delete(e.id),f.delete(e);let r={item:{current:n,meta:{}}};t?(t.registryHandler&&t.registryHandler.destroy(),Re(t),je.delete(e.id)):r.widget={type:"detach",current:e,instance:e.instance};return r}({current:e})}}return{}}function pe(e,t,n){return{id:e,properties:()=>{const e=je.get(t);return e?(e.propertiesCalled=!0,Object.assign({},e.properties)):{}},children:()=>{const e=je.get(t);return e?e.children:[]},middleware:n}}function fe({current:e,next:t}){e=B(e.id)||e;const{instance:n,domNode:r,hasAnimations:i,id:o}=e;let{node:{widgetConstructor:s}}=t;const d=t.registryItem||s;if(!W(d))return{};let a,c,l={},u=!1,h=g.get(e.id);if(t.hasAnimations=i,t.id=o,t.properties=Object.assign({},t.node.properties),f.delete(e),r&&r.parentNode&&(t.domNode=r),D(d)){const e=xe.get(n);t.instance=n,e.rendering=!0,n.__setProperties__(t.node.properties),n.__setChildren__(t.node.children),e.dirty&&(u=!0,g.delete(o),a=n.__render__()),e.rendering=!1}else{const n=je.get(o);if(n){n.originalProperties=Object.assign({},t.properties),n.properties=Pe(o,n.originalProperties),n.children=t.node.children,n.rendering=!0;const r=function(e,t,n){let r={};return e.customDiffMap=e.customDiffMap||new y,e.customDiffMap.size&&e.customDiffMap.forEach(e=>{e.forEach((e,i)=>{const o=e(Object.assign({},t),Object.assign({},n));o&&(r[i]=o)})}),r}(n,e.properties,n.originalProperties);n.properties=Object.assign({},n.properties,r),(e.node.children.length>0||t.node.children.length>0)&&(n.dirty=!0),n.dirty||function(e,t,n,r){const i=[...Object.keys(e),...Object.keys(t)];for(let o=0;o<i.length;o++)if(!(r.indexOf(i[o])>-1)){if(T(e[i[o]],t[i[o]]).changed){n();break}r.push(i[o])}}(e.properties,t.properties,()=>{n.dirty=!0},n.customDiffProperties?[...n.customDiffProperties.values()]:[]),n.dirty&&(g.delete(o),u=!0,a=d(pe(o,o,n.middleware)),n.dirty=!1,n.deferRefs>0&&(a=null)),n.rendering=!1,n.propertiesCalled=!1}}return p.set(t.id,t),l.widget={type:"attach",instance:n,id:o,attached:!1},a&&(c=O(a=Array.isArray(a)?a:[a],t,e),g.set(o,c)),u&&(l.item={current:h,next:c,meta:{}}),l}function _e(e){const t=g.get(e)||[];for(let e=0;e<t.length;e++){const n=t[e];if(n.domNode)return n.id;const r=_e(n.id);if(r)return r}}return{mount:function(n={}){let i=n.domNode;i||(i=r.default.document.body),s=Object.assign({},s,n,{domNode:i});const d=function(e){const t=e(),n=se(t),r=()=>t;return r.isWNodeWrapper=n,Ne(r)}(e)({},[]),c={id:o=`${Ie++}`,node:d,order:0,depth:1,owningId:"-1",parentId:"-1",siblingId:"-1",properties:{}};p.set("-1",{id:"-1",depth:0,order:0,owningId:"",domNode:i,node:le("fake"),parentId:"-1"}),a.push({current:[],next:[c],meta:{mergeNodes:we(i.childNodes)}}),J(),K(),q(),h=void 0,M(),t||X(!1)},unmount:function(){a.push({current:[p.get(o)],next:[],meta:{}}),t&&r.default.cancelAnimationFrame(t),J(),K(),_.forEach((e,t)=>{r.default.cancelAnimationFrame(t),e()});const e=P();e&&e(),d=[],a=[],c=[],l=[],b=[],w=[],u=new i,p.clear(),g.clear(),f=new i,m=new i,h=void 0},invalidate:function(){n&&n()}}}var Ee=n(35);var Ce=ve().properties()(function({properties:e}){const{name:t}=e();return fe("h1",{classes:[Ee.root]},`Hello, ${t}`)});const De=ve()(function(){return fe("div",null,fe(Ce,{name:"Dojo CodeSandbox"}),fe("h2",null,"Start editing to see some magic happen âœ¨"))});Me(()=>fe(De,null)).mount()},35:function(e,t,n){e.exports={" _key":"dojo-codesandbox-template/Hello",root:"Hello-m__root__b408c039Tjs"}}}]);
//# sourceMappingURL=main.87728a87dd7e92aa73de.bundle.js.map